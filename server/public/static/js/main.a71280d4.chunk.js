(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t){},28:function(e,t,n){e.exports=n(62)},35:function(e,t,n){},36:function(e,t,n){},57:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=(n(30),n(24)),s=n.n(o),c=(n(35),n(3)),l=n(4),i=n(6),u=n(5),h=n(7),m=(n(36),n(66)),p=n(65),d=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Pidenos cita"))}}]),t}(a.Component),f=n(25),g=n(63),v=n(26),E=n.n(v),y=function e(){var t=this;Object(c.a)(this,e),this.loggedin=function(){return t.service.get("/loggedin").then(function(e){return e.data})},this.signup=function(e,n){return t.service.post("/signup",{username:e,password:n}).then(function(e){return e.data})},this.login=function(e,n){return t.service.post("/login",{username:e,password:n}).then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})};var n=E.a.create({baseURL:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).API_URL,"/api"),withCredentials:!0});this.service=n},b=n(11),C=n.n(b),w=(n(57),function(e){function t(e){var n,a=this;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={dateContext:C()(),today:C()(),showMonthPopup:!1,showYearPopup:!1,selectedDay:null},n.weekdays=C.a.weekdays(),n.weekdaysShort=C.a.weekdaysShort(),n.months=C.a.months(),n.year=function(){return n.state.dateContext.format("Y")},n.month=function(){return n.state.dateContext.format("MMMM")},n.daysInMonth=function(){return n.state.dateContext.daysInMonth()},n.currentDate=function(){return console.log("currentDate: ",n.state.dateContext.get("date")),n.state.dateContext.get("date")},n.currentDay=function(){return n.state.dateContext.format("D")},n.firstDayOfMonth=function(){var e=n.state.dateContext;return C()(e).startOf("month").format("d")},n.setMonth=function(e){var t=n.months.indexOf(e),a=Object.assign({},n.state.dateContext);a=C()(a).set("month",t),n.setState({dateContext:a})},n.nextMonth=function(){var e=Object.assign({},n.state.dateContext);e=C()(e).add(1,"month"),n.setState({dateContext:e}),n.props.onNextMonth&&n.props.onNextMonth()},n.prevMonth=function(){var e=Object.assign({},n.state.dateContext);e=C()(e).subtract(1,"month"),n.setState({dateContext:e}),n.props.onPrevMonth&&n.props.onPrevMonth()},n.onSelectChange=function(e,t){n.setMonth(t),n.props.onMonthChange&&n.props.onMonthChange()},n.SelectList=function(e){var t=e.data.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement("a",{href:"#",onClick:function(t){n.onSelectChange(t,e)}},e))});return r.a.createElement("div",{className:"month-popup"},t)},n.onChangeMonth=function(e,t){n.setState({showMonthPopup:!n.state.showMonthPopup})},n.MonthNav=function(){return r.a.createElement("span",{className:"label-month",onClick:function(e){n.onChangeMonth(e,n.month())}},n.month(),n.state.showMonthPopup&&r.a.createElement(a.SelectList,{data:n.months}))},n.showYearEditor=function(){n.setState({showYearNav:!0})},n.setYear=function(e){var t=Object.assign({},n.state.dateContext);t=C()(t).set("year",e),n.setState({dateContext:t})},n.onYearChange=function(e){n.setYear(e.target.value),n.props.onYearChange&&n.props.onYearChange(e,e.target.value)},n.onKeyUpYear=function(e){13!==e.which&&27!==e.which||(n.setYear(e.target.value),n.setState({showYearNav:!1}))},n.YearNav=function(){return n.state.showYearNav?r.a.createElement("input",{defaultValue:n.year(),className:"editor-year",ref:function(e){n.yearInput=e},onKeyUp:function(e){return n.onKeyUpYear(e)},onChange:function(e){return n.onYearChange(e)},type:"number",placeholder:"year"}):r.a.createElement("span",{className:"label-year",onDoubleClick:function(e){n.showYearEditor()}},n.year())},n.onDayClick=function(e,t){n.setState({selectedDay:t},function(){console.log("SELECTED DAY: ",n.state.selectedDay)}),n.props.onDayClick&&n.props.onDayClick(e,t)},n.width=e.width||"350px",n.style=e.style||{},n.style.width=n.width,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=this.weekdaysShort.map(function(e){return r.a.createElement("td",{key:e,className:"week-day"},e)}),n=[],a=0;a<this.firstDayOfMonth();a++)n.push(r.a.createElement("td",{key:80*a,className:"emptySlot"},""));console.log("blanks: ",n);for(var o=[],s=function(t){var n=t==e.currentDay()?"day current-day":"day",a=t==e.state.selectedDay?" selected-day ":"";o.push(r.a.createElement("td",{key:t,className:n+a},r.a.createElement("span",{onClick:function(n){e.onDayClick(n,t)}},t)))},c=1;c<=this.daysInMonth();c++)s(c);console.log("days: ",o);var l=[].concat(n,o),i=[],u=[];l.forEach(function(e,t){if(t%7!==0)u.push(e);else{var n=u.slice();i.push(n),(u=[]).push(e)}if(t===l.length-1){var a=u.slice();i.push(a)}});var h=i.map(function(e,t){return r.a.createElement("tr",{key:100*t},e)});return r.a.createElement("div",null,r.a.createElement("table",{id:"cal"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"header"},r.a.createElement("td",{colSpan:"5"},r.a.createElement(this.MonthNav,null)," ",r.a.createElement(this.YearNav,null)),r.a.createElement("td",{colSpan:"2",className:"nav-month"},r.a.createElement("i",{className:"prev fa fa-fw fa-chevron-left",onClick:function(t){e.prevMonth()}},"\u2329"),r.a.createElement("i",{className:"prev fa fa-fw fa-chevron-right",onClick:function(t){e.nextMonth()}},"      \u232a")))),r.a.createElement("tbody",null,r.a.createElement("tr",{id:"cal-frame"},t),h)))}}]),t}(r.a.Component)),j=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onDayClick=function(e,t){alert(t)},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(g.a,{to:"/projects",style:{textDecoration:"none"}},"Pidenos Cita")),r.a.createElement("div",null,r.a.createElement(w,{onDayClick:function(t,n){return e.onDayClick(t,n)}})))}}]),t}(a.Component),O=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).logoutUser=function(){n.service.logout().then(function(){n.props.getUser(null),n.setState({loggedInUser:null})})},n.state={loggedInUser:null},n.service=new y,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(f.a)({},this.state,{loggedInUser:e.userInSession}))}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement("nav",{className:"nav-style"},r.a.createElement("ul",null,r.a.createElement("button",{onClick:function(){return e.logoutUser()}},"Logout"),r.a.createElement("p",null,"Welcome, ",this.state.loggedInUser.username),r.a.createElement(j,null),r.a.createElement("p",null,r.a.createElement(g.a,{to:"/"})))):r.a.createElement("nav",{className:"nav-style"},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(g.a,{to:"/",style:{textDecoration:"none"}},"Login")),r.a.createElement("p",null,r.a.createElement(g.a,{to:"/signup",style:{textDecoration:"none"}},"Signup"))))}}]),t}(a.Component),S=n(17),k=n.n(S),U=n(12),x=(n(60),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.signup(t,a).then(function(e){n.setState({username:"",password:""}),n.props.getUser(e)}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(U.a)({},a,r))},n.state={username:"",password:""},n.service=new y,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"login-box"},r.a.createElement("div",{class:"left"},r.a.createElement("form",{className:"form-signup",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}})," ",r.a.createElement("br",null),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}})," ",r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Signup"}))),r.a.createElement("p",null,"Already have account?"))}}]),t}(a.Component)),M=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=n.state.username,a=n.state.password;n.service.login(t,a).then(function(e){n.setState({username:"",password:""}),n.props.getUser(e)}).catch(function(e){return console.log(e)})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(U.a)({},a,r))},n.state={username:"",password:""},n.service=new y,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"login-box"},r.a.createElement("div",{class:"left"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("h1",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Login"})),r.a.createElement("p",null,"Don't have account?",r.a.createElement(g.a,{to:"/signup"}," Signup"))))}}]),t}(a.Component),D=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).getTheUser=function(e){n.setState({loggedInUser:e})},n.state={loggedInUser:null},n.service=new y,n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"fetchUser",value:function(){var e=this;null===this.state.loggedInUser&&this.service.loggedin().then(function(t){e.setState({loggedInUser:t})}).catch(function(t){e.setState({loggedInUser:!1})})}},{key:"render",value:function(){var e=this;return this.fetchUser(),this.state.loggedInUser?r.a.createElement("div",{className:"App"},r.a.createElement(O,{userInSession:this.state.loggedInUser,getUser:this.getTheUser}),r.a.createElement(m.a,null,r.a.createElement(p.a,{exact:!0,path:"/projects",component:d}),r.a.createElement(p.a,{exact:!0,path:"/projects/:id",component:k.a}))):r.a.createElement("div",{className:"App"},r.a.createElement(O,{userInSession:this.state.loggedInUser,getUser:this.getTheUser}),r.a.createElement(m.a,null,r.a.createElement(p.a,{exact:!0,path:"/signup",render:function(){return r.a.createElement(x,{getUser:e.getTheUser})}}),r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(M,{getUser:e.getTheUser})}}),r.a.createElement(p.a,{exact:!0,path:"/projects",component:d}),r.a.createElement(p.a,{exact:!0,path:"/projects/:id",component:k.a})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=n(64);s.a.render(r.a.createElement(N.a,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.a71280d4.chunk.js.map